(()=>{"use strict";var e,s={245:(e,s,r)=>{var n=r(848),a=r(540),t=r(338);const i=e=>Math.round(100*e)/100,l=new Map([[[0,7703],13.25],[[7703,11623],18],[[11623,16472],23],[[16472,21321],26],[[21321,27146],32.75],[[27146,39791],37],[[39791,51997],43.5],[[51997,81199],45],[[81199,Number.MAX_SAFE_INTEGER],48]]),c=(0,a.createContext)({}),o=()=>(0,a.useContext)(c),h=({children:e})=>{const[s,r]=(0,a.useState)(5e4),[t,o]=(0,a.useState)(void 0),[h,d]=(0,a.useState)(),[x,m]=(0,a.useState)();(0,a.useEffect)((()=>{if(0===s)return;const e=(e=>{const s=70*e/100,r=21.4*s/100;if(r<0)throw new Error("Social tax cannot be negative");return{base:s,withheld:r,restRange:s-r}})(s),r=(e=>{const s={base:e,ranges:[],withheld:0,balance:0};for(const[[r,n],a]of l.entries()){if(e<r)break;const t=Math.min(e,n)-r,l=i(t*(a/100)),c=i(t-l);s.ranges.push({taxRange:[r,n],taxableIncome:t,percent:a,withheld:l,restRange:c}),s.withheld=i(s.ranges.reduce(((e,s)=>e+s.withheld),0)),s.balance=i(s.ranges.reduce(((e,s)=>e+s.restRange),0))}return s})(e.restRange),n=((e,s,r)=>{const n=e-s.base,a=r.balance+n;return{taxFreeIncome:n,withheld:s.withheld+r.withheld,balance:a}})(s,e,r);o(e),d(r),m(n)}),[s,o,d,m]);const u=(0,a.useMemo)((()=>({income:s,setIncome:r,socialResult:t,irsResult:h,totalResult:x})),[s,r,t,h,x]);return(0,n.jsx)(c.Provider,{value:u,children:e})};var d;!function(e){e.INFO="info",e.WARNING="warning",e.ERROR="error"}(d||(d={}));const x=(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",className:"shrink-0 w-6 h-6",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",stroke:"currentColor",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),m=(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",stroke:"currentColor",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),u=({type:e})=>{switch(e){case d.WARNING:return m;case d.INFO:default:return x}},j=({type:e=d.INFO,children:s})=>(0,n.jsxs)("aside",{role:"alert",className:`alert alert-${e}`,children:[(0,n.jsx)(u,{type:e}),(0,n.jsx)("p",{children:s})]}),p=(0,a.createContext)({}),f=()=>(0,a.useContext)(p),v=({children:e})=>{const[s,r]=(0,a.useState)(""),t=(0,a.useMemo)((()=>({errorMessage:s,setErrorMessage:r})),[s,r]);return(0,n.jsx)(p.Provider,{value:t,children:e})},g=()=>{const{errorMessage:e}=f();return(0,n.jsx)("div",{className:"flex-1",children:e&&(0,n.jsx)(j,{type:d.ERROR,children:e})})},w=()=>(0,n.jsx)("svg",{fill:"currentColor",height:"16px",width:"16px",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:"0 0 310.75 310.75",xmlSpace:"preserve",children:(0,n.jsx)("path",{d:"M183.815,265.726c-32.444,0-60.868-21.837-76.306-54.325h102.101v-45.023H95.643c-0.284-3.642-0.437-7.29-0.437-11.016\n\tc0-3.691,0.152-7.384,0.437-10.977h113.969V99.353H107.51c15.438-32.485,43.861-54.315,76.306-54.315\n\tc31.01,0,60.21,20.759,76.2,54.152l40.626-19.418C277.091,30.554,232.329,0,183.815,0c-36.47,0-70.51,16.665-95.851,46.966\n\tC75.219,62.209,65.481,79.995,59.079,99.353H10.108v45.031h40.39c-0.217,3.617-0.329,7.311-0.329,10.977\n\tc0,3.704,0.112,7.351,0.329,11.016h-40.39V211.4h48.971c6.402,19.356,16.14,37.122,28.886,52.351\n\tc25.341,30.303,59.381,46.999,95.851,46.999c48.515,0,93.275-30.55,116.826-79.767l-40.626-19.454\n\tC244.025,244.965,214.825,265.726,183.815,265.726z"})}),b=()=>{const{income:e,setIncome:s}=o(),{errorMessage:r,setErrorMessage:t}=f(),[i,l]=(0,a.useState)((()=>e.toString()));return(0,n.jsxs)("div",{className:"input",children:[(0,n.jsxs)("label",{children:[(0,n.jsx)(w,{}),(0,n.jsx)("input",{className:r?"has-error":void 0,type:"number",step:100,placeholder:"50000,00",autoFocus:!0,value:i,onChange:e=>{t("");const r=e.target.value.replace(",","."),n=Number(r);!isNaN(n)&&n>=0?(l(r),s(n)):t("Invalid number")}})]}),(0,n.jsx)("span",{className:"hint",children:"Set income sum"})]})},N=()=>{const{income:e}=o();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("div",{className:"flex flex-row flex-wrap gap-2 mb-4",children:(0,n.jsxs)(v,{children:[(0,n.jsx)(b,{}),(0,n.jsx)(g,{})]})}),e>8e4&&(0,n.jsx)(j,{children:"In 2024, an additional solidarity rate, which varies between 2.5% and 5%, applies to taxpayers with a taxable income exceeding EUR 80,000 and EUR 250,000, respectively."})]})},y=new Intl.NumberFormat("en",{style:"currency",currency:"EUR",minimumFractionDigits:0}),R=new Intl.NumberFormat("en",{style:"percent",minimumFractionDigits:0}),I=()=>{const{socialResult:e,irsResult:s,totalResult:r,income:a}=o(),t=a>0;return(0,n.jsxs)("div",{children:[(0,n.jsx)("h2",{children:"1. Social Security (SeguranÃ§a Social)"}),(0,n.jsxs)("p",{children:[(0,n.jsxs)("b",{children:[21.4,"%"]})," of ",(0,n.jsx)("b",{children:"70%"})," of the annual income."]}),e&&t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:["Tax base is ",(0,n.jsx)("span",{className:"calculated",children:y.format(e.base)})]}),(0,n.jsxs)("div",{className:"result",children:[(0,n.jsxs)("span",{children:["-",y.format(e.withheld)]}),(0,n.jsx)("span",{children:y.format(e.restRange)})]})]}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("hr",{}),(0,n.jsx)("h2",{children:"2. Income Taxes (IRS)"})]}),s&&t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("p",{children:["Tax base is ",(0,n.jsx)("span",{className:"calculated",children:y.format(s.base)})]}),(0,n.jsx)("p",{children:"More details can be seen in the table."}),(0,n.jsxs)("div",{className:"result",children:[(0,n.jsxs)("span",{children:["-",y.format(s.withheld)]}),(0,n.jsx)("span",{children:y.format(s.balance)})]})]}),t&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("hr",{}),(0,n.jsx)("h2",{children:"3. Total Taxes"}),(0,n.jsx)("p",{children:"The total amount of taxes is the sum of Social Security and Income Taxes."})]}),r&&t&&(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"result",children:[(0,n.jsxs)("span",{children:["-",y.format(r.withheld)]}),(0,n.jsxs)("span",{children:[y.format(r.balance),(0,n.jsx)("span",{children:`The monthly sum is  ${y.format(r.balance/12)}`})]})]})})]})},S=()=>(0,n.jsxs)("div",{className:"sidebar",children:[(0,n.jsx)(j,{type:d.WARNING,children:"Calculation results from this calculator can only be used for approximate estimation of tax burden in Portugal for self-employed IT specialists working for foreign clients"}),(0,n.jsxs)(j,{children:["This calculator will be updated in case any inaccuracies are identified. Feel free to",(0,n.jsx)("a",{href:"https://github.com/kalinichenko88/taxes/issues",target:"_blank",children:"report an issue"}),"."]}),(0,n.jsx)(N,{}),(0,n.jsx)(I,{})]}),k=({range:e,percent:s,withheld:r})=>{const[a,t]=e,i=t===Number.MAX_SAFE_INTEGER?`From ${y.format(a)}`:y.formatRange(a,t),l=R.format(s/100),c=y.format(r);return(0,n.jsxs)("div",{className:"item",children:[(0,n.jsx)("div",{className:"range",children:i}),(0,n.jsx)("div",{className:"percent",children:l}),(0,n.jsx)("div",{className:"dots"}),(0,n.jsx)("div",{className:"sum",children:c})]})},F=()=>{const{irsResult:e}=o();return e?(0,n.jsxs)("div",{className:"irs",children:[(0,n.jsxs)("div",{className:"header",children:[(0,n.jsx)("h2",{children:"IRS"}),(0,n.jsxs)(j,{children:["The first year there is a ",(0,n.jsx)("b",{children:"50%"})," discount on personal income tax (IRS), and in the second year there is a"," ",(0,n.jsx)("b",{children:"25%"})," discount."]})]}),(0,n.jsx)("div",{className:"table",children:e.ranges.map((e=>(0,n.jsx)(k,{range:e.taxRange,percent:e.percent,withheld:e.withheld},e.withheld)))}),(0,n.jsx)("hr",{className:"my-4"}),(0,n.jsxs)("div",{className:"total",children:[(0,n.jsx)("div",{children:"Total IRS:"}),(0,n.jsx)("div",{className:"sum",children:y.format(e.withheld)})]})]}):null},E=()=>(0,n.jsxs)("div",{className:"social",children:[(0,n.jsx)("h2",{className:"header",children:"Social Tax"}),(0,n.jsx)(j,{children:"If more than 80% of the income of the self-employed individual comes from one employer, then the employer is obligated to pay 10% into the social fund."}),(0,n.jsx)(j,{children:"The first year, an individual entrepreneur may be exempt from paying social taxes"})]}),M=()=>{const{income:e}=o();return 0===e?null:(0,n.jsx)("div",{className:"details",children:(0,n.jsxs)("div",{className:"wrapper",children:[(0,n.jsx)(E,{}),(0,n.jsx)(F,{})]})})},T=document.getElementById("root");if(!T)throw new Error("Container not found");(0,t.H)(T).render((0,n.jsx)(a.StrictMode,{children:(0,n.jsx)((()=>(0,n.jsxs)(h,{children:[(0,n.jsx)(S,{}),(0,n.jsx)(M,{})]})),{})}))}},r={};function n(e){var a=r[e];if(void 0!==a)return a.exports;var t=r[e]={exports:{}};return s[e](t,t.exports,n),t.exports}n.m=s,e=[],n.O=(s,r,a,t)=>{if(!r){var i=1/0;for(h=0;h<e.length;h++){for(var[r,a,t]=e[h],l=!0,c=0;c<r.length;c++)(!1&t||i>=t)&&Object.keys(n.O).every((e=>n.O[e](r[c])))?r.splice(c--,1):(l=!1,t<i&&(i=t));if(l){e.splice(h--,1);var o=a();void 0!==o&&(s=o)}}return s}t=t||0;for(var h=e.length;h>0&&e[h-1][2]>t;h--)e[h]=e[h-1];e[h]=[r,a,t]},n.o=(e,s)=>Object.prototype.hasOwnProperty.call(e,s),(()=>{var e={524:0};n.O.j=s=>0===e[s];var s=(s,r)=>{var a,t,[i,l,c]=r,o=0;if(i.some((s=>0!==e[s]))){for(a in l)n.o(l,a)&&(n.m[a]=l[a]);if(c)var h=c(n)}for(s&&s(r);o<i.length;o++)t=i[o],n.o(e,t)&&e[t]&&e[t][0](),e[t]=0;return n.O(h)},r=self.webpackChunkportugal_taxes=self.webpackChunkportugal_taxes||[];r.forEach(s.bind(null,0)),r.push=s.bind(null,r.push.bind(r))})();var a=n.O(void 0,[179],(()=>n(245)));a=n.O(a)})();